(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{112:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(15)),a=r(n(100)),i=(r(n(1)),n(44)),l=n(58),s=n(33),c=function(e){var t=e.navigation;return(0,s.jsx)(i.View,{style:u.navbar,children:(0,s.jsx)(i.NativeBaseProvider,{children:(0,s.jsxs)(i.HStack,{justifyContent:"center",children:[(0,s.jsx)(a.default,{onPress:function(){return t.navigate("EditProfile")},children:(0,s.jsx)(i.View,{style:u.navButton,w:"20%",rounded:"md",shadow:3,children:(0,s.jsxs)(i.VStack,{children:[(0,s.jsx)(i.View,{h:"3"}),(0,s.jsx)(i.Center,{style:u.icon,children:(0,s.jsx)(l.FontAwesome,{style:u.loginWithGoogleIcon,name:"user-o",size:19,color:"grey"})})]})})}),(0,s.jsx)(a.default,{onPress:function(){return t.navigate("Chat")},children:(0,s.jsx)(i.View,{style:u.navButton,w:"20%",rounded:"md",shadow:3,children:(0,s.jsxs)(i.VStack,{children:[(0,s.jsx)(i.View,{h:"3"}),(0,s.jsx)(i.Center,{style:u.icon,children:(0,s.jsx)(l.Ionicons,{style:u.loginWithGoogleIcon,name:"ios-chatbox-outline",size:19,color:"grey"})})]})})}),(0,s.jsx)(a.default,{onPress:function(){return t.navigate("Cards")},children:(0,s.jsx)(i.View,{style:u.navButton,w:"20%",rounded:"md",shadow:3,children:(0,s.jsxs)(i.VStack,{children:[(0,s.jsx)(i.View,{h:"3"}),(0,s.jsx)(i.Center,{style:u.icon,children:(0,s.jsx)(l.FontAwesome,{style:u.loginWithGoogleIcon,name:"bars",size:19,color:"grey"})})]})})}),(0,s.jsx)(a.default,{onPress:function(){return t.navigate("Community")},children:(0,s.jsx)(i.View,{style:u.navButton,w:"20%",rounded:"md",shadow:3,children:(0,s.jsxs)(i.VStack,{children:[(0,s.jsx)(i.View,{h:"3"}),(0,s.jsx)(i.Center,{style:u.icon,children:(0,s.jsx)(l.FontAwesome,{style:u.loginWithGoogleIcon,name:"users",size:19,color:"grey"})})]})})}),(0,s.jsx)(a.default,{onPress:function(){return t.navigate("Settings")},children:(0,s.jsx)(i.View,{style:u.navButton,w:"20%",rounded:"md",shadow:3,children:(0,s.jsxs)(i.VStack,{children:[(0,s.jsx)(i.View,{h:"3"}),(0,s.jsx)(i.Center,{style:u.icon,children:(0,s.jsx)(l.FontAwesome,{style:u.loginWithGoogleIcon,name:"gear",size:19,color:"grey"})})]})})})]})})})};t.default=c;var u=o.default.create({navbar:{height:"7.5%",backgroundColor:"white"},navButton:{height:"600%",borderWidth:"0.4",borderColor:"lightgrey"}})},117:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.store=t.retrieve=void 0;var o=r(n(31)),a=r(n(345)),i=function(){var e=(0,o.default)((function*(e){try{for(key of Object.keys(e))yield a.default.setItem(String(key),String(e[key])),console.log("stored ",String(key),String(e[key]))}catch(t){console.log("asyncstorage write error",t)}}));return function(t){return e.apply(this,arguments)}}();t.store=i;var l=function(){var e=(0,o.default)((function*(e){try{var t=yield a.default.getItem(e);return null!=t?t:null}catch(n){console.log("asyncstorage read error",n)}}));return function(t){return e.apply(this,arguments)}}();t.retrieve=l},1210:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(31)),a=r(n(26)),i=r(n(5)),l=(n(69),n(331),r(n(15))),s=w(n(1)),c=(n(125),n(58)),u=n(44),d=n(145),f=r(n(1211)),p=n(421),h=w(n(1343)),g=(n(117),r(n(127))),y=n(59),x=r(n(112)),m=n(93),j=w(n(1352)),v=n(33);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var P=function(e){var t=e.navigation,n=(0,d.useFonts)({Jost_600SemiBold:d.Jost_600SemiBold}),r=(0,i.default)(n,1)[0];var l=(0,s.useReducer)((function(e,t){return"init"===t.type?t.value:Object.assign({},e,(0,a.default)({},t.type,t.value))}),{}),b=(0,i.default)(l,2),w=b[0],P=b[1];(0,s.useEffect)((function(){(0,y.getAndGlobalizeUsrData)().then((function(){GPCl=(0,m.getGPC)();var e={firstName:GPCl.usrData_firstName?GPCl.usrData_firstName:"",lastName:GPCl.usrData_lastName?GPCl.usrData_lastName:"",aboutme:GPCl.usrData_aboutme?GPCl.usrData_aboutme:"",offer:GPCl.usrData_offer?GPCl.usrData_offer:null,seek:GPCl.usrData_seek?GPCl.usrData_seek:null,profession:GPCl.usrData_profession?GPCl.usrData_profession:null,experience:GPCl.usrData_experience?GPCl.usrData_experience:null,location:GPCl.usrData_location?GPCl.usrData_location:null,languages:GPCl.usrData_languages?GPCl.usrData_languages:null,profilePicture:GPCl.usrData_profilePicture?GPCl.usrData_profilePicture:"https://cdn-icons-png.flaticon.com/512/875/875068.png"};P({type:"init",value:e})}))}),[]);var S=(0,s.useState)(!1),T=(0,i.default)(S,2),O=T[0],D=T[1],_=function(){var e=(0,o.default)((function*(){if(!1!==(yield h.requestMediaLibraryPermissionsAsync()).granted){var e=yield h.launchImageLibraryAsync(),t=yield j.manipulateAsync(e.uri,[{resize:{width:250}}],{compress:.9});if(!e.cancelled){var n={type:"profilePicture",value:t.uri};return P(n),void(0,y.storePicture)(t.uri)}}else alert("You've refused to allow this app to access your photos!")}));return function(){return e.apply(this,arguments)}}();return r?(0,v.jsxs)(u.NativeBaseProvider,{children:[(0,v.jsx)(u.StatusBar,{}),(0,v.jsx)(g.default,{page:"editProfile",data:w,navigation:t}),(0,v.jsxs)(u.View,{style:C.pageContainer,children:[(0,v.jsx)(u.ScrollView,{children:(0,v.jsxs)(u.View,{style:C.scrollView,children:[(0,v.jsx)(u.Text,{style:C.profilePicLabel,children:"My Photo"}),(0,v.jsx)(p.TouchableWithoutFeedback,{onPress:function(){return _()},children:(0,v.jsx)(u.Image,{source:{uri:w.profilePicture},style:C.profilePic,alt:"Profile picture"})}),(0,v.jsx)(u.Text,{italic:!0,style:C.tapToEdit,children:"Tap to edit"}),(0,v.jsxs)(u.VStack,{style:C.vstack,space:5,children:[(0,v.jsxs)(u.HStack,{children:[(0,v.jsx)(u.Input,{style:C.input,bg:"white",w:"50%",h:"12",placeholder:"First name",required:!0,defaultValue:w.firstName,disabled:!0}),(0,v.jsx)(u.Input,{style:C.input,bg:"white",w:"50%",placeholder:"Last name",defaultValue:w.lastName,required:!0,disabled:!0})]}),(0,v.jsx)(u.View,{children:(0,v.jsx)(u.Text,{style:C.label,children:"About Me"})}),(0,v.jsx)(u.TextArea,{style:C.input,bg:"white",h:"95",placeholder:"Tell us a few words about yourself: \u2022 What are your passions, interests and aspirations? \u2022 How do you go about achieveing your goals?",required:!0,defaultValue:w.aboutme,onChangeText:function(e){P({type:"aboutme",value:e})}}),(0,v.jsx)(u.Text,{style:C.label,children:"What I offer"}),(0,v.jsx)(u.TextArea,{style:C.input,bg:"white",h:"95",placeholder:" \u2022 What skills/experience do you want to share with others? \u2022 What resources, services, or materials are you able to offer? ",defaultValue:w.offer,onChangeText:function(e){P({type:"offer",value:e})}}),(0,v.jsxs)(u.View,{style:{flexDirection:"row"},children:[(0,v.jsx)(u.Text,{style:C.label,children:"What I seek (optional) "}),(0,v.jsx)(u.View,{style:C.tooltip,children:(0,v.jsx)(f.default,{isVisible:O,content:(0,v.jsx)(u.Text,{children:"At GPF, we know how difficult it is to make an independent film and we strive to connect Film and TV professionals who can offer assistance without necessarily expecting a return. Hence this field is entirely optional"}),placement:"top",onClose:function(){return D(!1)},children:(0,v.jsx)(p.TouchableWithoutFeedback,{style:C.touchable,onPress:function(){return D(!0)},children:(0,v.jsx)(c.FontAwesome,{name:"question-circle",size:20})})})})]}),(0,v.jsx)(u.TextArea,{style:C.input,bg:"white",h:"95",placeholder:" \u2022 What do you seek by using this app? \u2022 What sort of project are you looking for help for?",defaultValue:w.seek,onChangeText:function(e){P({type:"seek",value:e})}}),(0,v.jsx)(u.Text,{style:C.label,children:"Profession"}),(0,v.jsx)(u.Input,{style:C.input,bg:"white",h:"12",placeholder:"Add profession",defaultValue:w.profession,onChangeText:function(e){P({type:"profession",value:e})}}),(0,v.jsx)(u.Text,{style:C.label,children:"Years of experience"}),(0,v.jsx)(u.Input,{style:C.input,bg:"white",h:"12",w:"15%",placeholder:"ex.2",defaultValue:w.experience,onChangeText:function(e){P({type:"experience",value:e})}}),(0,v.jsx)(u.Text,{style:C.label,children:"Located in"}),(0,v.jsx)(u.Input,{style:C.input,bg:"white",h:"12",placeholder:"ex. San Diego, CA",defaultValue:w.location,onChangeText:function(e){P({type:"location",value:e})}}),(0,v.jsx)(u.Text,{style:C.label,children:"Languages I speak"}),(0,v.jsx)(u.Input,{style:C.input,bg:"white",h:"12",placeholder:"Add language",defaultValue:w.languages,onChangeText:function(e){P({type:"languages",value:e})}}),(0,v.jsx)(u.View,{h:"10"})]})]})}),(0,v.jsx)(x.default,{navigation:t})]})]}):(0,v.jsx)(u.View,{children:(0,v.jsx)(u.Text,{children:"Loading..."})})};t.default=P;var C=l.default.create({pageContainer:{height:"100%"},header:{paddingTop:50,backgroundColor:"#ffffff",height:100,borderBottomColor:"lightgrey",borderBottomWidth:1},headerElements:{fontWeight:"bold",fontSize:17},headerTitle:{fontSize:18},scrollView:{marginTop:15,alignItems:"center"},profilePic:{marginTop:10,width:200,height:200,borderRadius:200/3.5,borderColor:"lightgray",borderWidth:1},profilePicLabel:{fontSize:17,fontWeight:"bold"},tooltip:{},tapToEdit:{fontSize:12},vstack:{marginTop:30},label:{marginLeft:20,fontSize:17,marginBottom:-13,fontWeight:"bold"},input:{fontFamily:"Jost_600SemiBold",fontSize:17,width:"100%"}})},127:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),a=r(n(26)),i=r(n(15)),l=r(n(34)),s=(r(n(1)),n(44)),c=n(99),u=n(69),d=n(59),f=n(93),p=n(33),h=function(e){return"editProfile"!=e.page?(0,p.jsx)(s.View,{}):(0,p.jsx)(s.Button,{style:y.button,variant:"link",bg:"white",h:"10",w:"25%",onPress:function(){(0,d.appendUserData)(e.data).then(e.navigation.navigate("Cards")),Object.keys(e.data).forEach((function(t){return(0,f.appendGPC)((0,a.default)({},"usrData_"+t,e.data[t]))})),e.data.image&&(0,d.storePicture)(e.data.image)},children:(0,p.jsx)(l.default,{style:[y.doneText,y.headerElements],children:"Save"})})},g=function(e){var t=(0,u.useRoute)(),n=(0,c.useFonts)({LobsterTwo_700Bold_Italic:c.LobsterTwo_700Bold_Italic});return(0,o.default)(n,1)[0]?(0,p.jsx)(s.HStack,{style:y.header,space:12,justifyContent:"center",children:(0,p.jsxs)(s.Center,{h:"10",w:"70%",children:[(0,p.jsx)(l.default,{style:[y.headerTitle,y.headerElements],children:"Green Pine Connects"}),(0,p.jsx)(l.default,{style:[y.headerSubTitle,y.headerElements],children:"Cards"===t.name?"":t.name}),(0,p.jsx)(h,{page:e.page,data:e.data,navigation:e.navigation})]})}):(0,p.jsx)(s.View,{children:(0,p.jsx)(l.default,{children:"Loading..."})})};t.default=g;var y=i.default.create({header:{paddingTop:50,backgroundColor:"white",height:110,borderBottomColor:"lightgrey",borderBottomWidth:1},headerElements:{fontWeight:"bold"},headerTitle:{fontFamily:"LobsterTwo_700Bold_Italic",fontSize:25,color:"darkgreen"},headerSubTitle:{fontFamily:"LobsterTwo_700Bold_Italic",fontSize:17,color:"darkgreen"},button:{marginTop:-40,marginLeft:310},doneText:{color:"darkgreen",fontSize:18,fontFamily:"LobsterTwo_700Bold_Italic"}})},1360:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(15)),a=(r(n(34)),r(n(100)),n(44)),i=(r(n(1)),r(n(1361))),l=r(n(112)),s=r(n(127)),c=n(33),u=function(e){var t=e.navigation;return(0,c.jsxs)(a.NativeBaseProvider,{children:[(0,c.jsxs)(a.View,{style:d.pageContainer,children:[(0,c.jsx)(s.default,{}),(0,c.jsx)(i.default,{})]}),(0,c.jsx)(l.default,{navigation:t})]})};t.default=u;var d=o.default.create({pageContainer:{height:"94%",backgroundColor:"#ebecf0"}})},1361:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),a=r(n(15)),i=r(n(34)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),s=r(n(1362)),c=n(44),u=n(58),d=n(145),f=n(99),p=n(59),h=n(33);function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var y,x=[],m=function(){var e=(0,l.useState)(),t=(0,o.default)(e,2),n=t[0],r=t[1],a=p.auth.currentUser.uid;(0,l.useEffect)((function(){x=[],(0,p.getUserData)().then((function(e){return y=e})).finally((function(){Object.keys(y).forEach((function(e){y[e].id!=a&&x.push(y[e])})),console.log("profiles:",x),r(x)}))}),[p.auth]),console.log("showing the following cards: ",x);var g=(0,d.useFonts)({LobsterTwo_700Bold_Italic:f.LobsterTwo_700Bold_Italic,Jost_600SemiBold:d.Jost_600SemiBold});return(0,o.default)(g,1)[0]&&n?(0,h.jsx)(c.View,{children:(0,h.jsx)(s.default,{cards:x,cardVerticalMargin:2,verticalSwipe:!1,renderCard:function(e){console.log(e);var t=e;return(0,h.jsx)(c.NativeBaseProvider,{children:(0,h.jsxs)(c.View,{style:j.card,children:[(0,h.jsx)(c.Image,{source:{uri:t.photo},style:j.profilePic,alt:"Profile picture"}),(0,h.jsxs)(i.default,{style:j.nameLabel,children:[t.firstName," ",t.lastName]}),(0,h.jsxs)(i.default,{style:j.location,children:[(0,h.jsx)(u.MaterialIcons,{name:"location-pin",size:16,color:"black"}),t.location]}),(0,h.jsxs)(c.VStack,{marginLeft:"2",space:2,children:[(0,h.jsx)(i.default,{style:j.label,children:"About"}),(0,h.jsx)(i.default,{style:j.profileText,children:t.aboutme}),t.offer?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.default,{style:j.label,children:"Offering"}),(0,h.jsx)(i.default,{style:j.profileText,children:t.offer})]}):(0,h.jsx)(h.Fragment,{}),t.seek?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.default,{style:j.label,children:"Seeking"}),(0,h.jsx)(i.default,{style:j.profileText,children:t.seek})]}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)(i.default,{style:j.label,children:"Profession"}),(0,h.jsxs)(i.default,{style:j.profileText,children:[t.profession,", ",t.experience," years"]}),(0,h.jsxs)(i.default,{style:j.speaks,children:["Speaks: ",t.languages]})]})]})})},onSwiped:function(e){},onSwipedAll:function(){console.log("onSwipedAll")},onSwipedLeft:function(e){console.log("Swiped NO on",x[e])},onSwipedRight:function(e){console.log("swiped right on",x[e].id)},cardIndex:0,backgroundColor:"#4FD0E9",stackSize:3})}):(0,h.jsx)(c.View,{children:(0,h.jsx)(i.default,{children:"Loading..."})})};t.default=m;var j=a.default.create({container:{flex:1,backgroundColor:"#F5FCFF"},card:{height:"84%",borderRadius:10,borderWidth:2,borderColor:"#E8E8E8",backgroundColor:"white",alignItems:"center"},profilePic:{marginTop:5,width:250,height:250,borderRadius:250/3.5,borderColor:"gray",borderWidth:1,marginBottom:12},location:{fontSize:15,marginTop:5},nameLabel:{fontSize:23,fontWeight:"bold",fontFamily:"Jost_600SemiBold"},label:{fontSize:16,fontWeight:"bold",width:"100%"},speaks:{fontSize:16,width:"100%"},profileText:{fontSize:15}})},1370:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),a=r(n(15)),i=r(n(34)),l=r(n(20)),s=r(n(94)),c=r(n(164)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),d=n(44),f=n(99),p=n(145),h=n(58),g=n(125),y=(n(117),n(33));function x(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}var m=function(e){var t=e.navigation,n=(0,u.useState)(!0),r=(0,o.default)(n,2),a=r[0],x=r[1],m=(0,u.useState)(!0),v=(0,o.default)(m,2),b=v[0],w=v[1],P=(0,u.useState)(),C=(0,o.default)(P,2),S=C[0],T=C[1],O=(0,u.useState)(),D=(0,o.default)(O,2),_=D[0],k=D[1],B=(0,u.useState)(),M=(0,o.default)(B,2),V=M[0],I=M[1],W=(0,d.useToast)();var z=(0,p.useFonts)({Jost_600SemiBold:p.Jost_600SemiBold,LobsterTwo_700Bold_Italic:f.LobsterTwo_700Bold_Italic});return(0,o.default)(z,1)[0]?(0,y.jsx)(d.NativeBaseProvider,{children:(0,y.jsx)(g.LinearGradient,{colors:["#c4791c","#0c5407"],start:{x:1.75,y:.75},end:{x:.5,y:.98},style:j.loginpage,children:(0,y.jsxs)(l.default,{style:j.appView,children:[(0,y.jsx)(i.default,{style:j.title,children:"Green Pine Connects"}),(0,y.jsxs)(s.default,{behavior:"padding",children:[(0,y.jsx)(i.default,{style:j.loginText,children:"Sign up"}),(0,y.jsx)(d.Input,{style:j.input,variant:"underlined",size:"2xl",mx:"4",placeholder:"Email",value:S,onChangeText:function(e){T(e.toLowerCase())}}),(0,y.jsx)(d.Input,{secureTextEntry:a,variant:"underlined",style:j.input,mx:"4",marginTop:"5",marginBottom:"4",size:"2xl",value:_,onChangeText:function(e){k(e)},InputRightElement:(0,y.jsx)(d.Icon,{as:(0,y.jsx)(h.MaterialIcons,{name:a?"visibility-off":"visibility"}),size:5,mr:"2",color:"muted.400",onPress:function(){x(!a)}}),placeholder:"Password"}),(0,y.jsx)(d.Input,{secureTextEntry:b,variant:"underlined",style:j.input,mx:"4",marginTop:"5",marginBottom:"4",size:"2xl",value:V,onChangeText:function(e){I(e)},InputRightElement:(0,y.jsx)(d.Icon,{as:(0,y.jsx)(h.MaterialIcons,{name:b?"visibility-off":"visibility"}),size:5,mr:"2",color:"muted.400",onPress:function(){w(!b)}}),placeholder:"Retype password"}),(0,y.jsx)(d.Center,{children:(0,y.jsx)(d.Button,{bg:"red.800",w:"190",h:"10",borderRadius:"20",onPress:function(){(function(){var e=!1,t=!1,n=!1,r="toastID";if(_===V?e=!0:(W.isActive(r)||W.show({id:r,description:"Passwords do not match"}),console.log("input passwords do not match")),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(S)?t=!0:(W.isActive(r)||W.show({id:r,description:"Email is not valid"}),console.log("input email is not valid")),/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(_)?n=!0:(W.isActive(r)||W.show({id:r,description:"Password does not contain minimum eight characters, at least one letter and one number"}),console.log("input password is invalid")),e&&t&&n)return!0})()&&t.navigate("CreateAccount2",{email:S,password:_})},children:(0,y.jsx)(i.default,{style:j.loginButton,children:"Confirm"})})})]})]})})}):(0,y.jsx)(l.default,{style:j.LoadingContainer,children:(0,y.jsx)(c.default,{color:"#0c5407"})})};t.default=m;var j=a.default.create({title:{fontFamily:"LobsterTwo_700Bold_Italic",justifyContent:"center",textAlign:"center",alignContent:"center",fontSize:39,marginBottom:150,marginTop:100,color:"#dae8d4c9"},loginText:{fontFamily:"Jost_600SemiBold",color:"#dae8d4c9",fontSize:27,textAlign:"left",marginBottom:25,paddingLeft:15},loginButton:{color:"#dae8d4c9",fontSize:16},appView:{height:"100%"}})},1371:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),a=r(n(15)),i=r(n(34)),l=r(n(20)),s=r(n(94)),c=r(n(100)),u=r(n(164)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),f=n(44),p=n(99),h=n(145),g=(n(58),n(125)),y=r(n(1372)),x=(n(117),n(33));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var j=function(e){var t=e.route,n=e.navigation,r=(0,d.useState)(!0),a=(0,o.default)(r,2),m=(a[0],a[1],(0,d.useState)(!0)),j=(0,o.default)(m,2),b=(j[0],j[1],(0,d.useState)()),w=(0,o.default)(b,2),P=w[0],C=w[1],S=(0,d.useState)(!1),T=(0,o.default)(S,2),O=T[0],D=T[1],_=(0,f.useToast)(),k={year:"numeric",month:"long",day:"numeric"};var B=(0,h.useFonts)({Jost_600SemiBold:h.Jost_600SemiBold,LobsterTwo_700Bold_Italic:p.LobsterTwo_700Bold_Italic});return(0,o.default)(B,1)[0]?(0,x.jsx)(f.NativeBaseProvider,{children:(0,x.jsx)(g.LinearGradient,{colors:["#c4791c","#0c5407"],start:{x:1.75,y:.75},end:{x:.5,y:.98},style:v.loginpage,children:(0,x.jsxs)(l.default,{style:v.appView,children:[(0,x.jsx)(i.default,{style:v.title,children:"Green Pine Connects"}),(0,x.jsxs)(s.default,{behavior:"padding",children:[(0,x.jsx)(f.Center,{children:(0,x.jsx)(i.default,{style:v.question,children:"What is your birthday?"})}),(0,x.jsx)(c.default,{onPress:function(){D(!0)},children:(0,x.jsx)(l.default,{alignSelf:"center",bg:"primary.500",style:v.bdayBox,children:(0,x.jsx)(f.Center,{children:(0,x.jsx)(i.default,{style:v.bdayText,children:P?P.toLocaleDateString("en-US",k):"Choose your birthday"})})})}),(0,x.jsx)(y.default,{isVisible:O,mode:"date",onConfirm:function(e){C(e),D(!1)},onCancel:function(){D(!1)},isDarkModeEnabled:!0}),(0,x.jsx)(f.Center,{children:(0,x.jsx)(f.Button,{bg:"red.800",w:"230",h:"10",borderRadius:"20",onPress:function(){(function(){if(P){var e="toastID";return!(function(e){var t=new Date,n=t.getFullYear()-e.getFullYear(),r=t.getMonth()-e.getMonth();return(r<0||0===r&&t.getDate()<e.getDate())&&n--,n}(P)<18)||(_.isActive(e)||_.show({id:e,description:"You need to be at least 18 years old to make an account."}),!1)}})()&&n.navigate("CreateAccount3",{email:t.params.email,password:t.params.password,birthday:P.toLocaleDateString("en-US",k)})},children:(0,x.jsx)(i.default,{style:v.confirmTxt,children:"Confirm"})})})]})]})})}):(0,x.jsx)(l.default,{style:v.LoadingContainer,children:(0,x.jsx)(u.default,{color:"#0c5407"})})};t.default=j;var v=a.default.create({title:{fontFamily:"LobsterTwo_700Bold_Italic",justifyContent:"center",textAlign:"center",alignContent:"center",fontSize:39,marginBottom:150,marginTop:100,color:"#dae8d4c9"},question:{paddingTop:40,fontFamily:"Jost_600SemiBold",color:"#dae8d4c9",fontSize:27,textAlign:"left",marginBottom:25,paddingLeft:15},bdayBox:{marginTop:30,height:45,width:400,backgroundColor:"lightgrey",borderRadius:12,marginBottom:80},bdayText:{fontSize:35},confirmTxt:{color:"#dae8d4c9",fontSize:16},appView:{height:"100%"}})},1374:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),a=r(n(15)),i=r(n(34)),l=r(n(20)),s=r(n(94)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),u=n(44),d=(n(99),n(58),n(125)),f=(n(117),n(59)),p=n(33);function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var g=function(e){var t=e.route,n=e.navigation,r=(0,c.useState)(),a=(0,o.default)(r,2),h=a[0],g=a[1],x=(0,c.useState)(),m=(0,o.default)(x,2),j=m[0],v=m[1],b=(0,c.useState)(),w=(0,o.default)(b,2),P=w[0],C=w[1],S={email:t.params.email,firstName:h,lastName:j,birthday:t.params.birthday,photo:"https://firebasestorage.googleapis.com/v0/b/greenpineconnects.appspot.com/o/def.png?alt=media&token=dfefab79-7b79-4988-8967-616a63ccdfec"};return(0,p.jsx)(u.NativeBaseProvider,{children:(0,p.jsx)(d.LinearGradient,{colors:["#c4791c","#0c5407"],start:{x:1.75,y:.75},end:{x:.5,y:.98},style:y.loginpage,children:(0,p.jsxs)(l.default,{style:y.appView,children:[(0,p.jsx)(i.default,{style:y.title,children:"Green Pine Connects"}),(0,p.jsxs)(s.default,{behavior:"padding",children:[(0,p.jsx)(i.default,{style:y.loginText,children:"Enter your name and surname"}),(0,p.jsx)(u.Input,{style:y.input,variant:"underlined",size:"2xl",mx:"4",placeholder:"First name",value:h,onChangeText:function(e){g(e)}}),(0,p.jsx)(u.Input,{style:y.input,variant:"underlined",size:"2xl",mx:"4",placeholder:"Last name",value:j,onChangeText:function(e){v(e)}}),(0,p.jsx)(u.Center,{children:(0,p.jsx)(u.Button,{style:y.btn,bg:"red.800",w:"190",h:"10",borderRadius:"20",onPress:function(){console.log(t.params.email,t.params.password),(0,f.createUser)(t.params.email,t.params.password,S).then((function(e){e||(C("Your account has been created."),setTimeout((function(){return n.navigate("EditProfile")}),750)),"auth/email-already-in-use"===e&&C("The email address is already in use by another account")}))},children:(0,p.jsx)(i.default,{style:y.btnText,children:"Create Account"})})}),(0,p.jsx)(u.Center,{children:(0,p.jsx)(i.default,{style:y.submitStatus,children:P})})]})]})})})};t.default=g;var y=a.default.create({title:{fontFamily:"LobsterTwo_700Bold_Italic",justifyContent:"center",textAlign:"center",alignContent:"center",fontSize:39,marginBottom:150,marginTop:100,color:"#dae8d4c9"},input:{height:60},loginText:{fontFamily:"Jost_600SemiBold",color:"#dae8d4c9",fontSize:27,textAlign:"left",marginBottom:25,paddingLeft:15},btn:{marginTop:100},btnText:{color:"#dae8d4c9",fontSize:16},appView:{height:"100%"},submitStatus:{marginTop:30,fontFamily:"Jost_600SemiBold",fontSize:20,marginHorizontal:5,textAlign:"center",color:"#dae8d4c9"}})},1375:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),a=r(n(15)),i=r(n(34)),l=r(n(20)),s=r(n(94)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),u=n(44),d=(n(99),n(58),n(125)),f=n(33);function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var h=function(e){e.navigation;var t=(0,c.useState)(),n=(0,o.default)(t,2),r=n[0],a=n[1];return(0,f.jsx)(u.NativeBaseProvider,{children:(0,f.jsx)(d.LinearGradient,{colors:["#c4791c","#0c5407"],start:{x:1.75,y:.75},end:{x:.5,y:.98},style:g.loginpage,children:(0,f.jsxs)(l.default,{style:g.appView,children:[(0,f.jsx)(i.default,{style:g.title,children:"Green Pine Connects"}),(0,f.jsxs)(s.default,{behavior:"padding",children:[(0,f.jsx)(i.default,{style:g.loginText,children:"What is your account's email?"}),(0,f.jsx)(u.Input,{style:g.input,variant:"underlined",size:"2xl",mx:"4",placeholder:"Email",value:r,onChangeText:function(e){a(e)}}),(0,f.jsx)(u.Center,{children:(0,f.jsx)(u.Button,{style:g.btn,bg:"red.800",w:"190",h:"10",borderRadius:"20",onPress:function(){},children:(0,f.jsx)(i.default,{style:g.btnText,children:"Confirm"})})})]})]})})})};t.default=h;var g=a.default.create({title:{fontFamily:"LobsterTwo_700Bold_Italic",justifyContent:"center",textAlign:"center",alignContent:"center",fontSize:39,marginBottom:150,marginTop:100,color:"#dae8d4c9"},input:{height:60},loginText:{fontFamily:"Jost_600SemiBold",color:"#dae8d4c9",fontSize:27,textAlign:"left",marginBottom:25,paddingLeft:15},btn:{marginTop:100},btnText:{color:"#dae8d4c9",fontSize:16},appView:{height:"100%"}})},1376:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(18)),a=r(n(5)),i=r(n(15)),l=r(n(34)),s=r(n(100)),c=n(44),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),d=r(n(112)),f=r(n(127)),p=n(59),h=(n(343),n(99)),g=n(93),y=n(33);function x(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}var m=function(e){var t=e.navigation,n=(0,u.useState)([]),r=(0,a.default)(n,2),i=r[0],x=r[1],m=(0,u.useState)("loading"),v=(0,a.default)(m,2),b=v[0],w=v[1],P=(0,u.useState)({}),C=(0,a.default)(P,2),S=C[0],T=C[1],O=(0,h.useFonts)({LobsterTwo_700Bold_Italic:h.LobsterTwo_700Bold_Italic}),D=(0,a.default)(O,1)[0];return(0,u.useEffect)((function(){T((0,g.getGPC)()),(0,p.getUserDataByID)(p.auth.currentUser.uid).then((function(e){e.chats?(Object.keys(e.chats).forEach((function(e){console.log("CONVO",e),(0,p.getChatData)(e).then((function(t){t=t.val(),Object.keys(t.members).forEach((function(e){e!==S.usrData_id&&(t.otherPerson=e)})),(0,p.getUserDataByID)(t.otherPerson).then((function(n){x((function(r){return[].concat((0,o.default)(r),[Object.assign({},t,n,{convoKey:e})])}))}))}))})),w("ready")):w("noData")}))}),[]),"loading"===b?(0,y.jsx)(l.default,{children:"Loading..."}):"noData"===b?D?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(c.View,{style:j.pageContainer,children:[(0,y.jsx)(f.default,{}),(0,y.jsx)(c.View,{flex:1,justifyContent:"center",children:(0,y.jsx)(c.Center,{children:(0,y.jsx)(l.default,{style:j.noMessagesText,children:"No messages"})})})]}),(0,y.jsx)(d.default,{navigation:t})]}):(0,y.jsx)(c.View,{children:(0,y.jsx)(l.default,{children:"Loading..."})}):"ready"===b?(0,y.jsxs)(c.NativeBaseProvider,{children:[(0,y.jsxs)(c.View,{style:j.pageContainer,children:[(0,y.jsx)(f.default,{}),i.map((function(e){return(0,y.jsx)(s.default,{onPress:function(){return t.navigate("Conversation",{convo:e.convoKey,chatteeImg:e.photo})},children:(0,y.jsxs)(c.HStack,{style:j.slice,space:2,children:[(0,y.jsx)(c.Avatar,{style:j.chatteeImg,size:"lg",source:{uri:e.photo}}),(0,y.jsx)(c.View,{children:(0,y.jsxs)(c.VStack,{space:2,children:[(0,y.jsxs)(l.default,{style:j.from,children:[e.firstName," ",e.lastName]}),(0,y.jsx)(l.default,{style:j.lastText,children:e.lastMessage})]})})]})},e.otherPerson)}))]}),(0,y.jsx)(d.default,{navigation:t})]}):void 0};t.default=m;var j=i.default.create({pageContainer:{height:"94%",backgroundColor:"#ebecf0"},convserationSlice:{view:{}},slice:{marginLeft:5,paddingVertical:8,borderBottomWidth:1,borderBottomColor:"lightgrey"},noMessagesText:{fontFamily:"LobsterTwo_700Bold_Italic",fontSize:28,color:"darkgreen"},from:{fontWeight:"bold",fontSize:17},lastText:{fontSize:14}})},1377:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),a=r(n(15)),i=r(n(34)),l=r(n(100)),s=(r(n(94)),n(44)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),u=r(n(112)),d=r(n(1378)),f=r(n(127)),p=r(n(1380)),h=n(58),g=n(59),y=n(93),x=n(33);function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var j=function(e){var t=e.navigation,n=(0,c.useState)(!1),r=(0,o.default)(n,2),a=r[0],m=r[1],j=(0,c.useState)("socialPost"),b=(0,o.default)(j,2),w=b[0],P=b[1],C=(0,c.useState)(),S=(0,o.default)(C,2),T=S[0],O=S[1],D=(0,c.useState)(),_=(0,o.default)(D,2),k=_[0],B=_[1],M=(0,c.useReducer)((function(e,t){return e=Object.assign({},e,t.payload)}),{eventName:"",location:"",eventTime:"",details:""}),V=(0,o.default)(M,2),I=V[0],W=V[1];return(0,x.jsxs)(s.NativeBaseProvider,{children:[(0,x.jsxs)(d.default,{children:[(0,x.jsx)(f.default,{style:v.header}),(0,x.jsx)(p.default,{refresh:k}),(0,x.jsx)(s.Modal,{isOpen:a,onClose:function(){return m(!1)},avoidKeyboard:!0,justifyContent:"flex-end",bottom:"4",size:"full",style:v.modal,children:(0,x.jsxs)(s.Modal.Content,{h:"80%",children:[(0,x.jsx)(s.Modal.Header,{children:(0,x.jsx)(s.Center,{children:(0,x.jsxs)(s.HStack,{children:[(0,x.jsx)(s.View,{ml:"10%",mt:2,children:(0,x.jsx)(l.default,{onPress:function(){return P("socialPost")},children:(0,x.jsx)(i.default,{style:v.selectorText,children:"Social Post"})})}),(0,x.jsx)(s.Divider,{bg:"grey",thickness:"2",mx:"2",orientation:"vertical"}),(0,x.jsx)(s.View,{mt:2,mr:-8,children:(0,x.jsx)(l.default,{onPress:function(){return P("event")},children:(0,x.jsx)(i.default,{style:v.selectorText,children:"Event"})})}),(0,x.jsx)(s.Button,{ml:"30%",variant:"ghost",colorScheme:"blueGray",onPress:function(){m(!1)},children:"Cancel"}),(0,x.jsx)(s.Button,{mr:"10%",bg:"darkgreen",onPress:function(){!function(){if(GPCl=(0,y.getGPC)(),"socialPost"==w)return(0,g.newPost)({type:"socialPost",body:T,user:GPCl.usrData_id,comments:{},commentCount:0}),O(""),void B(!k);(0,g.newPost)(Object.assign({type:"event",user:GPCl.usrData_id,comments:{},commentCount:0},I)),O("")}(),m(!1)},children:"Post"})]})})}),(0,x.jsxs)(s.Modal.Body,{children:["socialPost"==w&&(0,x.jsx)(s.FormControl,{children:(0,x.jsx)(s.Input,{height:550,mt:"3",multiline:!0,placeholder:"Share something",value:T,onChangeText:function(e){O(e)}})}),"event"==w&&(0,x.jsxs)(s.FormControl,{children:[(0,x.jsx)(s.Input,{height:35,mt:"1",multiline:!0,placeholder:"Name of the event",value:I.eventName,onChangeText:function(e){return W({payload:{eventName:e}})}}),(0,x.jsx)(s.Input,{height:35,mt:"1",placeholder:"Location",value:I.location,onChangeText:function(e){return W({payload:{location:e}})}}),(0,x.jsx)(s.Input,{height:35,mt:"1",placeholder:"Time",value:I.eventTime,onChangeText:function(e){return W({payload:{eventTime:e}})}}),(0,x.jsx)(s.Input,{height:450,mt:"1",multiline:!0,placeholder:"Details",value:I.details,onChangeText:function(e){return W({payload:{details:e}})}})]})]}),(0,x.jsx)(s.Modal.Footer,{})]})}),(0,x.jsx)(s.Fab,{renderInPortal:!1,shadow:2,size:"sm",icon:(0,x.jsx)(s.Icon,{color:"white",as:h.AntDesign,name:"plus",size:"sm"}),bg:"darkgreen",onPress:function(){return m(!0)}})]}),(0,x.jsx)(u.default,{navigation:t,name:"plus",as:h.AntDesign})]})};t.default=j;var v=a.default.create({pageContainer:{height:"94%"},selectorText:{fontSize:"21"}})},1378:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(15)),a=(r(n(34)),r(n(20))),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),l=n(1379),s=n(33);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var u=function(e){var t=e.children;(0,i.useContext)(l.DarkModeContext);return(0,s.jsx)(a.default,{style:d.page,children:(0,s.jsx)(l.DarkModeProvider,{children:t})})};t.default=u;var d=o.default.create({page:{height:"94%"},dark:{},light:{}})},1379:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.DarkModeContext=void 0,t.DarkModeProvider=function(e){var t=(0,a.useState)(!1),n=(0,o.default)(t,2),r=n[0],l=n[1];return(0,i.jsx)(s.Provider,{value:{darkMode:r,toggleDarkMode:function(){l(!r)}},children:e.children})};var o=r(n(5)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),i=n(33);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var s=(0,a.createContext)();t.DarkModeContext=s},1380:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(26)),a=r(n(18)),i=r(n(31)),l=r(n(5)),s=r(n(15)),c=r(n(34)),u=r(n(100)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),f=n(44),p=n(59),h=n(58),g=r(n(1381)),y=r(n(268)),x=r(n(1383)),m=n(93),j=n(33);function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var b=function(e){var t=(0,d.useState)(!1),n=(0,l.default)(t,2),r=n[0],o=n[1];function a(){o(!1)}function i(){o(!0)}var s=(0,d.useState)(!1),p=(0,l.default)(s,2),x=p[0],v=p[1],b=(0,m.getGPC)();return(0,j.jsx)(u.default,{onPress:function(){return v(!0)},children:(0,j.jsxs)(f.View,{style:P.postWrapper,children:[x&&(0,j.jsx)(g.default,{props:e,showCommentModal:x,setShowCommentModal:v}),"socialPost"==e.type&&(0,j.jsx)(f.View,{style:P.socialPost,children:(0,j.jsxs)(f.HStack,{space:2,children:[(0,j.jsx)(f.Image,{style:P.profilePic,source:{uri:e.picture},alt:"profile picture"}),(0,j.jsxs)(f.VStack,{space:.2,w:"full",children:[(0,j.jsxs)(f.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,j.jsx)(c.default,{style:P.name,children:e.name}),(0,j.jsxs)(f.View,{style:{flexDirection:"row",marginRight:"20%"},children:[(0,j.jsx)(c.default,{style:P.time,children:(0,y.default)(e.time).fromNow(!0)+" ago"}),(0,j.jsx)(u.default,{onPress:i,children:(0,j.jsx)(h.Entypo,{name:"dots-three-horizontal",size:12,color:"black",style:{marginTop:3}})}),(0,j.jsx)(f.Actionsheet,{isOpen:r,onClose:a,children:(0,j.jsxs)(f.Actionsheet.Content,{children:[(0,j.jsx)(f.Box,{w:"100%",h:60,px:4,justifyContent:"center"}),b.usrData_id==e.user&&(0,j.jsx)(u.default,{onPress:function(){},children:(0,j.jsx)(f.Actionsheet.Item,{children:"Delete post"})}),(0,j.jsx)(f.Actionsheet.Item,{children:"Cancel"})]})})]})]}),(0,j.jsx)(f.View,{w:"90%",children:(0,j.jsx)(c.default,{style:P.body,children:e.body})}),(0,j.jsxs)(f.HStack,{mt:"2",space:1,children:[(0,j.jsx)(f.View,{style:{marginTop:1.5},children:(0,j.jsx)(h.FontAwesome5,{name:"comment",size:16,color:"grey"})}),(0,j.jsx)(c.default,{style:{color:"grey"},children:e.commentCount})]})]})]})}),"event"==e.type&&(0,j.jsx)(f.View,{style:P.eventPost,children:(0,j.jsxs)(f.HStack,{space:2,children:[(0,j.jsx)(f.Image,{style:P.profilePic,source:{uri:e.picture},alt:"profile picture"}),(0,j.jsxs)(f.VStack,{space:.2,w:"full",children:[(0,j.jsxs)(f.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,j.jsx)(c.default,{style:P.name,children:e.name}),(0,j.jsxs)(f.View,{style:{flexDirection:"row",marginRight:"20%"},children:[(0,j.jsx)(c.default,{style:P.time,children:(0,y.default)(e.time).fromNow(!0)+" ago"}),(0,j.jsx)(u.default,{onPress:i,children:(0,j.jsx)(h.Entypo,{name:"dots-three-horizontal",size:12,color:"black",style:{marginTop:3}})}),(0,j.jsx)(f.Actionsheet,{isOpen:r,onClose:a,children:(0,j.jsxs)(f.Actionsheet.Content,{children:[(0,j.jsx)(f.Box,{w:"100%",h:60,px:4,justifyContent:"center"}),b.usrData_id==e.user&&(0,j.jsx)(u.default,{onPress:function(){},children:(0,j.jsx)(f.Actionsheet.Item,{children:"Delete post"})}),(0,j.jsx)(f.Actionsheet.Item,{children:"Cancel"})]})})]})]}),(0,j.jsxs)(f.VStack,{w:"90%",children:[(0,j.jsx)(f.View,{style:P.eventDetails,children:(0,j.jsx)(c.default,{style:[P.eventTitle,P.detailsText],children:e.eventName})}),(0,j.jsxs)(f.View,{style:P.eventDetails,children:[(0,j.jsx)(c.default,{style:P.setDetails,children:"Time"}),(0,j.jsx)(c.default,{style:P.detailsText,children:e.eventTime})]}),(0,j.jsxs)(f.View,{style:P.eventDetails,children:[(0,j.jsx)(c.default,{style:P.setDetails,children:"Location"}),(0,j.jsx)(c.default,{style:P.detailsText,children:e.location})]}),(0,j.jsx)(f.View,{style:P.eventDetails,children:(0,j.jsx)(c.default,{style:P.detailsText,children:e.body})})]}),(0,j.jsxs)(f.HStack,{mt:"2",space:1,children:[(0,j.jsx)(f.View,{style:{marginTop:1.5},children:(0,j.jsx)(h.FontAwesome5,{name:"comment",size:16,color:"grey"})}),(0,j.jsx)(c.default,{style:{color:"grey"},children:e.commentCount})]})]})]})})]})})},w=function(e){var t=(0,d.useState)([]),n=(0,l.default)(t,2),r=n[0],s=n[1],u=(0,d.useState)(!1),h=(0,l.default)(u,2),g=h[0],m=h[1];return y.default.extend(x.default),(0,d.useEffect)((function(){s([]),m(!1),(0,p.getCollection)("posts").then((function(e){e.forEach(function(){var e=(0,i.default)((function*(e){var t=yield(0,p.getUserDataByID)(e.user);s((function(n){return[].concat((0,a.default)(n),[(0,o.default)({},e.id,Object.assign({},e,{firstName:t.firstName,lastName:t.lastName,picture:t.profilePicture,id:e.id}))])}))}));return function(t){return e.apply(this,arguments)}}()),m(!0)}))}),[e.refresh]),g?(0,j.jsx)(f.ScrollView,{children:Object.values(r).map((function(e){return e=Object.values(e)[0],(0,j.jsx)(b,{id:e.id,name:e.firstName+" "+e.lastName,picture:e.picture,body:e.body?e.body:e.details,time:e.time.toDate(),type:e.type,eventName:e.eventName,eventTime:e.eventTime,location:e.location,commentCount:e.commentCount,user:e.user},e.id)}))}):(0,j.jsx)(f.View,{children:(0,j.jsx)(c.default,{children:"Loading..."})})};t.default=w;var P=s.default.create({postWrapper:{borderBottomWidth:1,borderBottomColor:"lightgrey",marginLeft:4,paddingVertical:10},eventPost:{},socialPost:{},setDetails:{fontWeight:"bold"},detailsText:{marginBottom:6},eventDetails:{},profilePic:{width:50,height:50,borderRadius:20,borderColor:"gray"},name:{fontWeight:"bold",fontSize:15},eventTitle:{fontSize:22},time:{textAlign:"right",marginRight:5}})},1381:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),a=r(n(15)),i=r(n(100)),l=n(44),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),c=n(59),u=n(93),d=r(n(268)),f=n(58),p=r(n(1382)),h=n(33);function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var y=function(e){var t=(0,s.useState)(),n=(0,o.default)(t,2),r=n[0],a=n[1],g=(0,s.useState)(!1),y=(0,o.default)(g,2),m=y[0],j=y[1],v=(0,s.useState)({}),b=(0,o.default)(v,2),w=b[0],P=b[1];return(0,s.useEffect)((function(){return P((0,u.getGPC)())}),[]),(0,h.jsx)(l.Modal,{isOpen:e.showCommentModal,onClose:function(){return e.setShowCommentModal(!1)},size:"full",justifyContent:"flex-start",style:x.modal,children:(0,h.jsxs)(l.Modal.Content,{children:[(0,h.jsx)(l.Modal.CloseButton,{}),(0,h.jsx)(l.Modal.Header,{children:"socialPost"==e.props.type?"Post":"Event"}),(0,h.jsxs)(l.Modal.Body,{children:["socialPost"==e.props.type&&(0,h.jsx)(l.View,{children:(0,h.jsxs)(l.HStack,{space:2,children:[(0,h.jsx)(l.Image,{style:x.profilePic,source:{uri:e.props.picture},alt:"profile picture"}),(0,h.jsxs)(l.VStack,{space:.2,w:"full",children:[(0,h.jsxs)(l.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,h.jsx)(l.Text,{style:x.name,children:e.props.name}),(0,h.jsx)(l.View,{style:{flexDirection:"row",marginRight:"20%"},children:(0,h.jsxs)(l.Text,{style:x.time,children:[" ",(0,d.default)(e.props.time).format("D MMM YYYY H:mm")," "]})})]}),(0,h.jsx)(l.View,{w:"90%",children:(0,h.jsx)(l.Text,{style:x.body,children:e.props.body})})]})]})}),"event"==e.type&&(0,h.jsxs)(l.View,{style:x.eventPost,children:[(0,h.jsxs)(l.HStack,{space:2,children:[(0,h.jsx)(l.Image,{style:x.profilePic,source:{uri:e.props.picture},alt:"profile picture"}),(0,h.jsxs)(l.VStack,{space:.2,w:"full",children:[(0,h.jsxs)(l.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,h.jsx)(l.Text,{style:x.name,children:e.props.name}),(0,h.jsx)(l.View,{style:{flexDirection:"row",marginRight:"20%"},children:(0,h.jsx)(l.Text,{style:x.time,children:e.props.time})})]}),(0,h.jsxs)(l.VStack,{w:"90%",children:[(0,h.jsx)(l.View,{style:x.eventDetails,children:(0,h.jsx)(l.Text,{style:[x.eventTitle,x.detailsText],children:e.props.eventName})}),(0,h.jsxs)(l.View,{style:x.eventDetails,children:[(0,h.jsx)(l.Text,{style:x.setDetails,children:"Time"}),(0,h.jsx)(l.Text,{style:x.detailsText,children:e.props.eventTime})]}),(0,h.jsxs)(l.View,{style:x.eventDetails,children:[(0,h.jsx)(l.Text,{style:x.setDetails,children:"Location"}),(0,h.jsx)(l.Text,{style:x.detailsText,children:e.props.location})]}),(0,h.jsx)(l.View,{style:x.eventDetails,children:(0,h.jsx)(l.Text,{style:x.detailsText,children:e.props.body})})]})]})]})," "]})," ",(0,h.jsx)(l.Divider,{mb:4,thickness:"2"}),(0,h.jsx)(p.default,{postProps:Object.assign({},e.props,{refresh:m})})]}),(0,h.jsx)(l.Modal.Footer,{}),(0,h.jsxs)(l.HStack,{space:1.5,ml:1,children:[(0,h.jsx)(l.Image,{style:x.myCommPic,source:{uri:w.usrData_profilePicture},alt:"profile picture"}),(0,h.jsx)(l.Input,{placeholder:"Add a comment",w:"80%",variant:"rounded",mb:1,value:r,onChangeText:function(e){a(e)}}),(0,h.jsx)(i.default,{onPress:function(){!function(t){t.match("[^ ]")&&((0,c.createComment)(e.props.id,t),a(""),j(!m))}(r)},children:(0,h.jsx)(f.FontAwesome,{name:"send-o",size:18,color:"gray",style:{paddingTop:8}})})]})]})})};t.default=y;var x=a.default.create({postWrapper:{borderBottomWidth:1,borderBottomColor:"lightgrey",marginLeft:4,paddingVertical:10},modal:{marginTop:"10%",marginHorizontal:"1%"},comments:{justifyContent:"left"},setDetails:{fontWeight:"bold"},detailsText:{marginBottom:6},name:{fontWeight:"bold",fontSize:15},time:{textAlign:"right",marginRight:5},myCommPic:{width:30,height:30,borderRadius:12,borderColor:"gray"},profilePic:{width:50,height:50,borderRadius:20,borderColor:"gray"},eventTitle:{fontSize:22}})},1382:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),a=r(n(15)),i=r(n(156)),l=n(44),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),c=n(59),u=r(n(268)),d=n(58),f=n(33);function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var h=function(e){var t=(0,s.useState)(!1),n=(0,o.default)(t,2),r=n[0],a=n[1],p=(0,s.useState)([]),h=(0,o.default)(p,2),y=h[0],x=h[1];Intl.NumberFormat("en",{notation:"compact"});return(0,s.useEffect)((function(){console.log("new effect");var t=0;a(!1),x([]);var n=[];(0,c.getComments)(e.postProps.id).then((function(e){console.log(e),e&&0!=e.length?(t=e.length,e.forEach((function(e){(0,c.getUserDataByID)(e.from).then((function(r){if(n.push(Object.assign({photo:r.photo,firstName:r.firstName,lastName:r.lastName},e)),n.length==t)return x(n),void a(!0)}))}))):a("noComments")}))}),[e.postProps.refresh]),r?"noComments"==r?(0,f.jsx)(l.Text,{children:"No comments"}):r&&y?(0,f.jsx)(i.default,{data:y,renderItem:function(e){return(0,f.jsxs)(l.View,{children:[(0,f.jsxs)(l.HStack,{space:2,mb:2,children:[(0,f.jsx)(l.Image,{style:g.profilePic,source:{uri:e.item.photo},alt:"profile picture"}),(0,f.jsxs)(l.VStack,{space:.2,w:"full",children:[(0,f.jsxs)(l.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,f.jsx)(l.Text,{style:g.name,children:e.item.firstName+" "+e.item.lastName}),(0,f.jsxs)(l.View,{style:{flexDirection:"row",marginRight:"20%"},children:[(0,f.jsx)(l.Text,{style:g.time,children:(0,u.default)(e.item.time.toDate()).fromNow(!0)+" ago"}),(0,f.jsx)(d.Entypo,{name:"dots-three-horizontal",size:12,color:"black",style:{marginTop:3}})]})]}),(0,f.jsx)(l.View,{w:"90%",children:(0,f.jsx)(l.Text,{style:g.body,children:e.item.body})})]})]}),(0,f.jsx)(l.Divider,{mb:2})]})}}):void 0:(0,f.jsx)(l.Text,{children:"Loading..."})};t.default=h;var g=a.default.create({comment:{marginLeft:-15,marginRight:-5,paddingBottom:-150},profilePic:{width:50,height:50,borderRadius:20,borderColor:"gray"},name:{fontWeight:"bold",fontSize:15},time:{textAlign:"right",marginRight:5}})},1384:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),a=r(n(15)),i=r(n(34)),l=r(n(20)),s=r(n(94)),c=n(44),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),d=r(n(112)),f=r(n(127)),p=n(59),h=(n(117),n(93)),g=n(58),y=n(421),x=n(33);function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var j=function(e){var t=e.navigation,n=e.route,r=n.params.convo,a=n.params.chatteeImg,m=(0,u.useState)(),j=(0,o.default)(m,2),b=j[0],w=j[1],P=(0,u.useState)(),C=(0,o.default)(P,2),S=(C[0],C[1]),T=(0,u.useState)(),O=(0,o.default)(T,2),D=O[0],_=O[1],k=(0,u.useState)({}),B=(0,o.default)(k,2),M=B[0],V=B[1];return(0,u.useEffect)((function(){V((0,h.getGPC)()),M.usrData_profilePicture&&S(M.usrData_profilePicture),(0,p.getRealtimeMessages)(r,w)}),[]),b?(0,x.jsx)(c.NativeBaseProvider,{children:(0,x.jsxs)(s.default,{behavior:"padding",children:[(0,x.jsxs)(l.default,{style:v.pageContainer,children:[(0,x.jsx)(f.default,{}),Object.keys(b).map((function(e){return b[e].pic=a,(0,x.jsx)(l.default,{children:(0,x.jsxs)(c.HStack,{space:2,style:[b[e].from===p.auth.currentUser.uid?v.myMsgStack:v.otherMsgStack,v.chatHStack],children:[(0,x.jsx)(c.Avatar,{style:v.chatteeImg,size:"sm",display:b[e].from===p.auth.currentUser.uid?"none":"",source:{uri:b[e].pic}}),(0,x.jsx)(l.default,{style:v.messageBox,children:(0,x.jsx)(i.default,{style:v.messageText,children:b[e].body})})]})},e)}))]}),(0,x.jsxs)(c.HStack,{style:{marginVertical:10},children:[(0,x.jsx)(c.Input,{style:v.input,variant:"rounded",backgroundColor:"#ebecf0",w:"85%",marginLeft:3,value:D,onChangeText:function(e){_(e)}}),(0,x.jsx)(y.TouchableWithoutFeedback,{onPress:function(){!function(e){e.match("[^ ]")&&((0,p.newRealtimeMessage)({body:e},r),_(""))}(D)},children:(0,x.jsx)(g.FontAwesome,{name:"send-o",size:18,color:"gray",style:{paddingTop:8,paddingLeft:10}})})]}),(0,x.jsx)(d.default,{navigation:t})]})}):(0,x.jsx)(i.default,{children:"Loading..."})};t.default=j;var v=a.default.create({pageContainer:{height:"87%",backgroundColor:"#ebecf0"},chatteeImg:{marginVertical:10},chatHStack:{marginHorizontal:4},myMsgStack:{justifyContent:"flex-end",alignItems:"flex-end",marginRight:10},otherMsgStack:{justifyContent:"flex",alignItems:"flex",marginLeft:10},messageBox:{backgroundColor:"#a2c794",borderRadius:8,flex:.75,height:"auto",marginTop:8},messageText:{marginHorizontal:12,paddingVertical:10},input:{}})},1385:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(15)),a=(r(n(34)),n(44)),i=(r(n(1)),r(n(112))),l=r(n(127)),s=n(59),c=n(33),u=function(e){var t=e.navigation;return(0,c.jsxs)(a.NativeBaseProvider,{children:[(0,c.jsxs)(a.View,{style:d.pageContainer,children:[(0,c.jsx)(l.default,{}),(0,c.jsxs)(a.Center,{children:[" ",(0,c.jsx)(a.Button,{style:d.logoutBtn,w:"80%",variant:"outline",onPress:function(){s.auth.signOut().then((function(){console.log("user successfuly signed out"),t.navigate("LoginScreen")})).catch((function(e){console.log("sign-out error",e)}))},children:"Log out"})]})]}),(0,c.jsx)(i.default,{navigation:t})]})};t.default=u;var d=o.default.create({pageContainer:{height:"94%",backgroundColor:"#ebecf0"},logout:{}})},455:function(e,t,n){e.exports=n(456)},582:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,b.jsx)(u.NativeBaseProvider,{children:(0,b.jsx)(a.NavigationContainer,{children:(0,b.jsxs)(w.Navigator,{children:[(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"LoginScreen",component:l.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"Settings",component:j.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"Chat",component:g.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"Cards",component:c.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"Conversation",component:m.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"EditProfile",component:s.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"Community",component:y.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"Navbar",component:x.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"CreateAccount",component:d.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"CreateAccount2",component:f.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"ForgotPassword",component:h.default}),(0,b.jsx)(w.Screen,{options:{headerShown:!1},name:"CreateAccount3",component:p.default})]})})})};r(n(1)),n(583);var o=r(n(15)),a=(r(n(34)),r(n(20)),n(69)),i=n(331),l=r(n(668)),s=r(n(1210)),c=r(n(1360)),u=n(44),d=r(n(1370)),f=r(n(1371)),p=r(n(1374)),h=r(n(1375)),g=r(n(1376)),y=r(n(1377)),x=r(n(112)),m=r(n(1384)),j=r(n(1385)),v=r(n(1386)),b=n(33),w=(0,i.createNativeStackNavigator)();v.default.ignoreAllLogs();o.default.create({})},59:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.appendUserData=M,t.auth=void 0,t.createComment=function(e,t){return C.apply(this,arguments)},t.createNewConvo=function(e){},t.createUser=function(e,t,n){return g.apply(this,arguments)},t.getAndGlobalizeUsrData=function(){return B.apply(this,arguments)},t.getChatData=function(e){return G.apply(this,arguments)},t.getCollection=function(e){return z.apply(this,arguments)},t.getComments=function(e){return A.apply(this,arguments)},t.getPictureOfUser=function(e){return k.apply(this,arguments)},t.getRealtimeMessages=function(e,t){var n=(0,u.ref)(L,"messages/"+e);console.log("getting convo",e,n);var r=(0,u.query)(n);(0,u.onValue)(r,(function(e){var n=[];e.forEach((function(e){n.push(e.val())})),console.log("existing messages:",n),n=n.sort((function(e,t){return e.time.seconds>t.time.seconds?1:-1})),t(n)}))},t.getRightSwipes=N,t.getUserData=function(){return v.apply(this,arguments)},t.getUserDataByID=function(e){return b.apply(this,arguments)},t.matchCheck=R,t.newPost=function(e){return I.apply(this,arguments)},t.newRealtimeMessage=function(e,t){try{(0,u.update)((0,u.ref)(L,"messages/"+t+"/"+(0,p.v4)()),Object.assign({},e,{time:d.default.firestore.Timestamp.fromDate(new Date)},{from:h.currentUser.uid})),F(e.body,t)}catch(error){console.log("realtimeWrite error",error)}},t.storePicture=D,t.swipeRight=function(e){N(h.currentUser.uid).then((function(t){t=t.val(),(0,f.appendGPC)((0,o.default)({},"usrData_swipedRightOn",Object.keys(t))),console.log("my swipes",t),console.log("adding right swipe data on: ",e);var n={};n[e]="true";try{(0,u.set)((0,u.ref)(L,"swipes/"+h.currentUser.uid+"/swipedRightOn"),Object.assign({},t,n))}catch(error){console.log("swipeRight DB error",error)}})),R(e)},t.updateLastMessage=F,t.writeToDB=function(e,t){return W.apply(this,arguments)};var o=r(n(26)),a=r(n(31)),i=r(n(11)),l=n(342),s=n(669),c=n(1390),u=n(343),d=r(n(670));n(671),n(1391),n(229),n(10);var f=n(93);n(673);var p=n(1388);0===d.default.apps.length?d.default.initializeApp({apiKey:"AIzaSyAevCuPuEq2FB73plVhfxniRHeYyUnA-as",authDomain:"greenpineconnects.firebaseapp.com",databaseURL:"https://greenpineconnects-default-rtdb.europe-west1.firebasedatabase.app",projectId:"greenpineconnects",storageBucket:"greenpineconnects.appspot.com",messagingSenderId:"756252962829",appId:"1:756252962829:ios:4e27b32ff7c3986f83a544",measurementId:"G-1S927LZVJL",bundleId:"host.exp.Exponent"}):d.default.app();var h=d.default.auth();function g(){return(g=(0,a.default)((function*(e,t,n){var r=yield(0,l.createUserWithEmailAndPassword)(h,e,t).then((function(e){e.user;return console.log("User creation successful"),m(n),0})).catch((function(e){return console.log("User creation error",e.code),e.code}));return Object.keys(n).forEach((function(e){(0,f.appendGPC)((0,o.default)({},"usrData_"+e,n[e]))})),r}))).apply(this,arguments)}t.auth=h;var y=(0,s.getFirestore)(),x=(0,s.collection)(y,"users");function m(e){return j.apply(this,arguments)}function j(){return(j=(0,a.default)((function*(e){try{p.validate,M(e),D("https://firebasestorage.googleapis.com/v0/b/greenpineconnects.appspot.com/o/def.png?alt=media&token=dfefab79-7b79-4988-8967-616a63ccdfec")}catch(error){console.log("DB write error",error)}}))).apply(this,arguments)}function v(){return(v=(0,a.default)((function*(){var e=[];return(yield(0,s.getDocs)(x)).forEach((function(t){e.push(Object.assign({},t.data(),{id:t.id}))})),e}))).apply(this,arguments)}function b(){return(b=(0,a.default)((function*(e){console.log("getting usr data for",e);try{var t=(0,s.doc)(y,"users",e),n=yield(0,s.getDoc)(t);return n.exists()?n.data():(console.log("The document matching the requested ID of "+e+" was not found."),0)}catch(error){console.log("GetUserDataByID error",error)}}))).apply(this,arguments)}function w(e,t){return P.apply(this,arguments)}function P(){return(P=(0,a.default)((function*(e,t){var n=(0,s.doc)(y,"posts",e),r="add"==t?1:-1;yield(0,s.updateDoc)(n,{commentCount:d.default.firestore.FieldValue.increment(r)})}))).apply(this,arguments)}function C(){return(C=(0,a.default)((function*(e,t){try{var n=(0,s.doc)(y,"comments",e),r=(0,p.v4)();yield(0,s.setDoc)(n,(0,o.default)({},r,{body:t,from:h.currentUser.uid,id:r,time:d.default.firestore.Timestamp.fromDate(new Date)}),{merge:!0}),w(e,"add"),console.log("written new comment!")}catch(a){console.log("writeComment error",a)}}))).apply(this,arguments)}function S(e){return T.apply(this,arguments)}function T(){return(T=(0,a.default)((function*(e){try{var t=(0,s.doc)(y,"users",h.currentUser.uid);yield(0,s.updateDoc)(t,{photo:e})}catch(n){console.log("changeProfilePic error",error)}}))).apply(this,arguments)}var O=(0,c.getStorage)();function D(e){return _.apply(this,arguments)}function _(){return(_=(0,a.default)((function*(e){try{"ios"===i.default.OS&&e.replace("file://","");var t=(0,c.ref)(O,h.currentUser.uid);(0,c.uploadString)(t,e,"data_url").then((function(t){console.log("Profile picture stored!"),(0,f.appendGPC)({usrData_image:e}),(0,c.getDownloadURL)(t.ref).then((function(e){S(e)}))}))}catch(error){console.log("error storePicture ",error)}}))).apply(this,arguments)}function k(){return(k=(0,a.default)((function*(e){O=(0,c.getStorage)();var t=(0,c.ref)(O,e);return yield(0,c.getDownloadURL)(t).then((function(e){return e})).catch((function(e){console.log("getPictureOfUser, getDownloadURL error: (codes on internet)",e)}))}))).apply(this,arguments)}function B(){return(B=(0,a.default)((function*(){var e=(0,s.query)((0,s.collection)(y,"users"),(0,s.where)("email","==",h.currentUser.email)),t=yield(0,s.getDocs)(e),n=new Object,r={};return t.forEach((function(e){n=e.data()})),function(){for(key of Object.keys(n))"chats"!==key&&(r["usrData_"+String(key)]=n[key],console.log("stored in GPC ","usrData_"+String(key),n[key]))}(),r.usrData_id=h.currentUser.uid,(0,f.setGPC)(r),n}))).apply(this,arguments)}function M(e){return V.apply(this,arguments)}function V(){return(V=(0,a.default)((function*(e){Object.keys(e).forEach((function(t){return null==e[t]&&delete e[t]}));try{var t=(0,s.doc)(y,"users",h.currentUser.uid);(0,s.setDoc)(t,e,{merge:!0})}catch(error){console.log("DB write error",error)}}))).apply(this,arguments)}function I(){return(I=(0,a.default)((function*(e){console.log(e);try{var t=(0,s.doc)(y,"posts",(0,p.v4)());(0,s.setDoc)(t,Object.assign({},e,{time:d.default.firestore.Timestamp.fromDate(new Date)}),{merge:!0}),console.log("new post written")}catch(error){console.log("newPost error",error)}}))).apply(this,arguments)}function W(){return(W=(0,a.default)((function*(e,t){try{var n=(0,s.doc)(y,e,h.currentUser.uid);(0,s.updateDoc)(n,t)}catch(error){console.log("writeToDB error",error)}}))).apply(this,arguments)}function z(){return(z=(0,a.default)((function*(e){try{var t=(0,s.collection)(y,e),n=(0,s.query)(t,(0,s.orderBy)("time","desc"),(0,s.limit)(20)),r=yield(0,s.getDocs)(n),o=[];return r.forEach((function(e){return o.push(Object.assign({},e.data(),{id:e.id}))})),o=o.sort((function(e,t){return e.time.seconds<t.time.seconds?1:-1}))}catch(error){console.log("getAllCollection error",error)}}))).apply(this,arguments)}function A(){return(A=(0,a.default)((function*(e){try{var t=(0,s.collection)(y,"comments"),n=(0,s.doc)(t,e),r=yield(0,s.getDoc)(n),o=[];return r.data()?(Object.values(r.data()).forEach((function(e){return o.push(Object.assign({},e,{id:e.id}))})),o=o.sort((function(e,t){return e.time.seconds<t.time.seconds?1:-1}))):void console.log("no Comments")}catch(error){console.log("getComments error",error)}}))).apply(this,arguments)}var L=(0,u.getDatabase)();function G(){return(G=(0,a.default)((function*(e){var t=(0,u.ref)(L,"chats/"+e),n=(0,u.query)(t);return yield(0,u.get)(n,(function(e){return e}))}))).apply(this,arguments)}function F(e,t){var n={};n["/chats/"+t+"/lastMessage"]=e;try{(0,u.update)((0,u.ref)(L),n)}catch(error){console.log("updateLastMessage error",error)}}function N(e){return E.apply(this,arguments)}function E(){return(E=(0,a.default)((function*(e){var t=(0,u.ref)(L,"swipes/"+e+"/swipedRightOn");return yield(0,u.get)(t)}))).apply(this,arguments)}function R(e){N(e).then((function(e){e.val()&&(Object.keys(e.val()).includes(h.currentUser.uid)?console.log("match"):console.log("no match"))}))}},668:function(e,t,n){var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(31)),a=r(n(5)),i=n(59),l=(n(117),r(n(15))),s=r(n(34)),c=r(n(20)),u=r(n(94)),d=r(n(164)),f=w(n(1)),p=n(44),h=n(145),g=n(99),y=n(58),x=n(125),m=(w(n(1208)),n(342)),j=r(n(345)),v=n(33);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var P=function(e){var t=e.navigation;(0,f.useEffect)((function(){console.log("App starting"),j.default.clear(),(0,m.onAuthStateChanged)(i.auth,(function(e){e?B():console.log("user not signed in")}))}),[]);var n=(0,f.useState)(!0),r=(0,a.default)(n,2),l=r[0],b=r[1],w=(0,f.useState)(),P=(0,a.default)(w,2),S=P[0],T=P[1],O=(0,f.useState)(),D=(0,a.default)(O,2),_=D[0],k=D[1];function B(){(0,i.getAndGlobalizeUsrData)().then((function(){t.navigate("Cards")}))}function M(){return(M=(0,o.default)((function*(){yield i.auth.signInWithEmailAndPassword(S,_).then((function(e){var t=e.user;console.log("logged in with",t.email),B()})).catch((function(e){console.log("badLogin: ",e.message),alert("Invalid login")}))}))).apply(this,arguments)}var V=(0,h.useFonts)({Jost_600SemiBold:h.Jost_600SemiBold,LobsterTwo_700Bold_Italic:g.LobsterTwo_700Bold_Italic});return(0,a.default)(V,1)[0]?(0,v.jsx)(p.NativeBaseProvider,{children:(0,v.jsxs)(x.LinearGradient,{colors:["#c4791c","#0c5407"],start:{x:1.75,y:.75},end:{x:.5,y:.98},style:C.loginpage,children:[(0,v.jsx)(s.default,{style:C.title,children:"Green Pine Connects"}),(0,v.jsxs)(s.default,{style:C.subtitle1,children:["A global application to increase resources for Film and TV professionals"," "]}),(0,v.jsx)(s.default,{style:C.subtitle2,children:"By the Green Pine Foundation"}),(0,v.jsxs)(u.default,{behavior:"padding",children:[(0,v.jsxs)(c.default,{children:[(0,v.jsx)(s.default,{style:C.loginText,children:"Log in"}),(0,v.jsx)(p.Input,{style:C.input,variant:"underlined",size:"2xl",mx:"4",placeholder:"Email",value:S,onChangeText:function(e){T(e.toLowerCase())}}),(0,v.jsx)(p.Input,{secureTextEntry:l,variant:"underlined",style:C.input,mx:"4",marginTop:"5",marginBottom:"4",size:"2xl",defaultValue:_,onChangeText:function(e){k(e)},InputRightElement:(0,v.jsx)(p.Icon,{as:(0,v.jsx)(y.MaterialIcons,{name:l?"visibility-off":"visibility"}),size:5,mr:"2",color:"muted.400",onPress:function(){b(!l)}}),placeholder:"Password"}),(0,v.jsx)(s.default,{style:C.forgotPass,onPress:function(){return t.navigate("ForgotPassword")},children:"Forgot password?"})]}),(0,v.jsx)(p.Center,{children:(0,v.jsx)(p.Button,{bg:"red.800",w:"190",h:"10",borderRadius:"20",onPress:function(){S&&_&&function(){M.apply(this,arguments)}()},children:(0,v.jsx)(s.default,{style:C.loginButton,children:"Log in"})})}),(0,v.jsxs)(c.default,{style:C.lineContainer,children:[(0,v.jsx)(c.default,{style:C.line}),(0,v.jsx)(s.default,{style:C.lineText,children:"or"}),(0,v.jsx)(c.default,{style:C.line})]}),(0,v.jsx)(p.Center,{children:(0,v.jsx)(p.Button,{startIcon:(0,v.jsx)(y.FontAwesome,{style:C.loginWithGoogleIcon,name:"apple",size:18,color:"white"}),style:C.loginWithAppleButton,bg:"black",w:"240",h:"10",borderRadius:"20",children:(0,v.jsx)(s.default,{style:C.loginWithAppleText,children:"Log in with Apple"})})}),(0,v.jsx)(p.Center,{children:(0,v.jsx)(p.Button,{title:"Google Sign-In",startIcon:(0,v.jsx)(y.FontAwesome,{style:C.loginWithGoogleIcon,name:"google",size:18}),style:C.loginWithGoogleButton,bg:"white",w:"240",h:"10",marginTop:"3",borderRadius:"20",onPress:function(){return onGoogleButtonPress().then((function(){return console.log("Signed in with Google!")}))},children:(0,v.jsx)(s.default,{style:C.loginWithGoogleText,children:"Log in with Google"})})}),(0,v.jsx)(c.default,{children:(0,v.jsx)(p.Center,{children:(0,v.jsxs)(s.default,{style:C.newHere,children:["New here?"," ",(0,v.jsx)(s.default,{style:C.createAccountText,onPress:function(){return t.navigate("CreateAccount")},children:"Create an account"})]})})})]})]})}):(0,v.jsx)(c.default,{style:C.LoadingContainer,children:(0,v.jsx)(d.default,{color:"#0c5407"})})};t.default=P;var C=l.default.create({LoadingContainer:{flex:1,justifyContent:"center",flexDirection:"row",justifyContent:"space-around",padding:10},loginpage:{flex:1,justifyContent:"center",textAlign:"center",alignContent:"center"},title:{fontFamily:"LobsterTwo_700Bold_Italic",justifyContent:"center",textAlign:"center",alignContent:"center",fontSize:39,marginTop:75,color:"#dae8d4c9"},subtitle1:{fontFamily:"Jost_600SemiBold",justifyContent:"center",textAlign:"center",alignContent:"center",fontSize:16,color:"#dae8d4c9",marginHorizontal:5,marginTop:35,marginBottom:15},subtitle2:{fontFamily:"Jost_600SemiBold",justifyContent:"center",textAlign:"center",alignContent:"center",fontSize:14,color:"#dae8d4c9",marginHorizontal:5,marginBottom:100},loginText:{fontFamily:"Jost_600SemiBold",color:"#dae8d4c9",fontSize:27,textAlign:"left",marginBottom:25,paddingLeft:15},input:{fontSize:17,color:"#dae8d4c9"},forgotPass:{color:"#dae8d4c9",textDecorationLine:"underline",textAlign:"right",marginRight:15,marginBottom:30},loginButton:{color:"#dae8d4c9",fontSize:16},lineContainer:{marginVertical:15,flexDirection:"row"},line:{backgroundColor:"#dae8d4c9",height:1,flex:1,alignSelf:"center"},lineText:{color:"#dae8d4c9",alignSelf:"center",paddingHorizontal:5,fontSize:14},loginWithAppleButton:{},loginWithAppleText:{color:"#dae8d4c9",fontSize:16},loginWithGoogleIcon:{marginTop:2},loginWithGoogleText:{color:"black",fontSize:16},newHere:{marginTop:3,marginBottom:-50,color:"#dae8d4c9",fontSize:13,flexDirection:"row",flexWrap:"wrap"},createAccountText:{textDecorationLine:"underline"}})},93:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.appendGPC=function(e){n=Object.assign({},n,e)},t.getGPC=function(){return n},t.setGPC=function(e){n=e,console.log("set",n)};var n={}}},[[455,1,2]]]);
//# sourceMappingURL=app.adaa5317.chunk.js.map